---
title: The Static Site Awakens and Strikes Back
date: "2020-01-26"
featuredImage: "./strikesback.png"
---

Static websites are having a great comeback because of new tools and new services to build and host them.
I will explain the most important terms and introduce the so called Jamstack in this blogpost.

<!-- end -->

I smiled when I read the first chapter of a [blogpost](https://www.sitepoint.com/7-reasons-use-static-site-generator/) with the headline _What is a Static Site?_
I bet 20 years ago somewhere was a blogpost with the introduction question _What is a Dynamic Site?_
Sometimes we forget how it all started.

You may have already heard of Gatsby, Next.js, Netlify or the Jamstack but but could not really bring it into context with server side rendering and static site generators.
I will explain these terms in this blog post.

# <a name="static"></a>Static vs Dynamic Webpages

The files of a **static webpage** are served directly from a server.
The server does nothing more than grabbing the files from the harddrive and send them to the client.
So this is a **very fast process** and can **be done by any infrastructure** which can serve files like a file server, CDNs and of course a webserver.

A **dynamic webpage** is written in a programming language and processed by a server to generate the HTML which is then sent to the client.
This process is called [Server-Side Rendering](#ssr).
This **process is slower** and **additionally needs an application server**.

On stackoverflow I stumbled over the question, [if a static website may consist of JavaScript](https://stackoverflow.com/questions/44458712/can-a-static-website-consist-of-javascript).
As far as the required server infrastructure is concerned, a website with JavaScript can still be considered static.
But with the extensive use of JavaScript for [Client-Side Rendering](#csr) in Single Page Applications (SPAs) we have to introduce a second dimension of that classification: The way the DOM is generated in the browser.

In classical static webpages the DOM is generated by the browser by parsing an HTML file.
_Pure static_ websites which just consist of HTML and maybe some _simple_ JavaScript are therefore static in terms of hosting **and** DOM generation.
In SPAs the DOM is generated by JavaScript creating and manipulating DOM Nodes through the DOM API.
Typical SPAs are therefore static in terms of hosting, but dynamic in terms of DOM generation.
Classical dynamic webpages based on ASP or PHP are hybrids in that sense, being dynamic in terms of hosting but static in terms of DOM generation.

For the increasingly popular [Jamstack](#jam) the dimension of hosting is the decisive factor.
A Jamstack website has to be static in terms of hosting.

# <a name="csr"></a>Client-Side Rendering

This should better be called Client-Side _DOM Manipulation_.
SPA's built with Frameworks like React, Angular or Vue deliver only an index.html with a reference to the JavaScript application file.
The webpages are then rendered via direct DOM manipulation through JavaScript on the client.

> SPAs manipulate the DOM directly via JavaScript.
> They use only one almost empty HTML file or [an application shell](https://developers.google.com/web/fundamentals/architecture/app-shell) as an anchor.
> Thus the name **S**ingle **P**age **A**pplications.

# <a name="ssr"></a>Server-Side Rendering

A web server compiles HTML on-the-fly when a client asks for a specific page.
Technologies like Microsoft's Active Server Page (ASP) already worked like that in the 90s.
Today with node based backends like express.js the JavaScript based DOM manipulation of SPAs can be done on the server and the result is then sent to the client.

Frameworks like [Next.js](https://nextjs.org/) for React application and [Nuxt.js](https://nuxtjs.org/) (obviously inspired by Next.js) for Vue.js applications enable Server-Side Rendering for their underlying SPA frameworks.

# Dynamic Rendering

JavaScript based dynamic webpages can be problematic from a Search Engine Optimization (SEO) perspective, since not all webcrawlers will execute JavaScript properly and may therefore index only the not very meaningful application shell.

> Although Googlebot is said to be able to render JavaScript since 2014, static webpages currently may still have an advantage concerning SEO.
> This may change with the development of more sophisticated webcrawlers.

In 2018 Google announced the concept of [Dynamic Rendering](https://developers.google.com/search/docs/guides/dynamic-rendering#implement).
In short this means that dependent from the User Agent the web server delivers different versions of the website.
A web crawler may get a server-side rendered or prerendered version, while a webbrowser will get the JavaScript heavy version for Client-Side Rendering.

> Dynamic Rendering does not count as [Cloaking](https://en.wikipedia.org/wiki/Cloaking), but it is still not allowed to add additional Keywords or Links to the webcrawler version of the page.

# Prerendering

Prerendering generates static HTML files at build time.
Tools which support this process are known as [Static Site Generators (SSG)](https://www.keycdn.com/support/static-site-generator).
Because of the sites are prerendered during the build process, all content must therefore be available at build time.

Static Site Generators exist since several years.
They often are specialised for different kinds of websites, like [Jekyll](https://jekyllrb.com/) (2008) for blogs, [Hugo](https://gohugo.io/) (2013) for websites or [GitBook](https://www.gitbook.com/) (2014) for documentation.

While Jekyll for example is written in Ruby, there are new tools emerging which are based on modern SPA Frameworks.
The very popular [Gatsby](https://www.gatsbyjs.org/) is a Static Site Generator based on React.
The previously introduced Server-Side Rendering framework Next.js can also be used as a SSG since it has three different export modes, one of them being Static HTML.

Modern Static Site Generators are also able to load data from data sources into the prerendered websites.
Gatsby uses GraphQL in the templates to refer to data in JSON files which are fetched and persisted during the build process.

# <a name="jamstack"></a>Jamstack

The rise of static websites is accompanied by a concept called the [Jamstack](https://jamstack.org/) that was coined in 2016 by Mathias Biillmann the CEO of Netlify.
Although the Jamstack is more about architecture than specific technology, it may become the third revolutionary stack after LAMP (1998) and MEAN (2013).

The Jamstack describes a new way of building websites based on

-   **M**arkup which is provided by static site generators,
-   server-side functions which are abstracted into reusable **A**PIs
-   and client-side **J**avaScript for the dynamic part in the client and usage of the APIs.

A Jamstack websites must be a [static website](#static) only in terms of hosting, not in terms of DOM generation.
It must not be dependent on an application server so that it could be served by a CDN.
If server-side functions like data storage, computation, identity or commerce functions are needed, corresponding APIs can be built or bought.
APIs can be consumed either at build time, or at runtime in the browser by client-side JavaScript.
JavaScript can also be used for dynamic DOM generation or just for enhancing the user experience.

# Jamstack-based CMS

Content Management Systems (CMS) based on the Jamstack are becoming very popular.
They already outperform traditional CMS like Wordpress, Joomla or TYPO3 in terms of flexibility, performance and security.
Only in the area of usability for the non technical editor who provides content they still have to catch up.

With version control and CI/CD Pipelines software developers have sophisticated tools and processes for code maintenance and deployments.
With **Git-based CMS** these battle-proven tools and processes conquer the world of Content Management Systems.
A git-based CMS Solution uses a static site generator like GatsbyJS often together with a template to generate the static webpages, push them to a git repository and automatically deploy them to a CDN by a git based CI/CD pipeline.

This webblog is currently created this way, by using [DevBlog](https://ryanfitzgerald.github.io/devblog/), a blog template based on GatsbyJS and [netlify](https://netlify.com) as a CDN.
Editors can create new blogposts via [StackEdit](https://stackedit.io/) and only need their own github account to deploy new markdown files as blogposts. To be honest, I am the only editor and use Visual Studio Code to provide content.

The next evolution of Jamstack based CMS are **headless, API-first CMS**.
These CMS offer a GUI for creating and managing the content.
They do not care about the presentation of the content and therefore do not offer a WYSIWYG editor, but offer access to the content data via APIs. You can find an overview of headless Content Management Systems on [headlesscms.org](https://headlesscms.org/).

The less ideal editing experience for the non-technical user due to the lack of WYSIWIG features leads to the current development in the field of **Jamstack-based CMS with on-page editing**.
[TinaCMS](https://tinacms.org) is an open source project which adds editing functionality right into a Gatsby or Next.js site when run in developer mode locally.
[Stackbit Live](https://www.stackbit.com/) is a CMS and SSG agnostic toolset, which also allows on-page editing and previewing of a Jamstack based site.

> 34% of all websites on the internet are run with WordPress. Stand out from the crowd with a lightning fast website and go start migrating your website to the Jamstack. :D
